{% extends "base.html" %}
{% load static %}

{% block title %}Strona Główna{% endblock %}

{% block content %}

<style>
    .home-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 20px;
    }

    .banner img {
        max-width: 900px;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        margin-bottom: 40px;
    }

    .bottom-section {
        width: 90%;
        max-width: 1100px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
    }

    .card {
        background: #ffffff;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    h2 {
        margin-top: 0;
        text-align: center;
        font-family: 'Segoe UI', sans-serif;
        color: #333;
    }
    ul {list-style: none;padding-left: 0;}
    li {padding: 6px 0;border-bottom: 1px solid #eee;}
    li a {text-decoration: none;color: #1b4db1;}
    li a:hover {text-decoration: underline;}
</style>

<div class="home-container">

    <div class="banner">
        <img src="{% static 'images/baner.jpg' %}" alt="Baner strony">
    </div>

    <div class="bottom-section">

        <!-- Lista gier -->
        <div class="card">
            <h2>Gry w serwisie</h2>
            <ul>
                {% for game in games %}
                    <li>
                        <a href="{% url 'game_detail' game_id=game.id %}">
                            {{ game.title }}
                        </a>
                    </li>
                {% empty %}
                    <li>Brak gier w bazie.</li>
                {% endfor %}
            </ul>
        </div>

        <!-- Najnowsze recenzje -->
        <div class="card">
            <h2>Najnowsze recenzje</h2>
            <ul>
                {% for review in reviews %}
                    <li>
                        <strong>{{ review.game.title }}</strong> - Ocena: {{ review.rating }}/10
                        <br>
                        <i>
                        {% if review.content|length > 60 %}
                            {{ review.content|slice:":60" }}...
                        {% else %}
                            {{ review.content }}
                        {% endif %}
                        </i>
                        <br>
                        <small>{{ review.author }} | {{ review.created_at|date:"d.m.Y H:i" }}
                            <a href="{% url 'review_detail' review_id=review.id %}">zobacz więcej</a>
                        </small>
                    </li>
                {% empty %}
                    <li>Brak recenzji.</li>
                {% endfor %}
            </ul>
        </div>

    </div>

</div>

{% endblock %}
